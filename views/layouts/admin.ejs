<!DOCTYPE html>
<html lang="en" class="light-style layout-navbar-fixed layout-menu-fixed" dir="ltr" data-theme="theme-default">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />
  <title><%= title %> - Gamification Engine</title>

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="/assets/img/favicon/favicon.ico" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

  <!-- Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@2.44.0/tabler-icons.min.css" />

  <!-- Core CSS -->
  <link rel="stylesheet" href="/assets/css/core.css" />
  <link rel="stylesheet" href="/assets/css/theme-default.css" />
  <link rel="stylesheet" href="/assets/css/demo.css" />

  <!-- Vendors CSS -->
  <link rel="stylesheet" href="/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css" />

  <!-- Page CSS -->
  <%- typeof pageCSS !== 'undefined' ? pageCSS : '' %>

  <style>
    /* 2025 Modern Soft Design */
    :root {
      --primary: #7367f0;
      --primary-light: #8a7ff5;
      --success: #28c76f;
      --danger: #ea5455;
      --warning: #ff9f43;
      --info: #00cfe8;
      --dark: #4b4b4b;
      --secondary: #82868b;
      --light: #f8f8f8;
      --body-bg: #f4f5fa;
      --card-bg: #ffffff;
      --border-color: #ebe9f1;
      --shadow-soft: 0 0.125rem 0.5rem rgba(105, 108, 255, 0.1);
      --shadow-hover: 0 0.5rem 1.5rem rgba(105, 108, 255, 0.15);
      --radius-soft: 0.75rem;
      --radius-round: 1.5rem;
    }

    body {
      background: var(--body-bg);
      font-family: 'Inter', sans-serif;
    }

    .layout-menu {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      box-shadow: var(--shadow-soft);
    }

    .menu-vertical .menu-item .menu-link {
      color: rgba(255, 255, 255, 0.8);
      border-radius: var(--radius-soft);
      margin: 0.25rem 0.75rem;
      transition: all 0.2s ease;
    }

    .menu-vertical .menu-item .menu-link:hover,
    .menu-vertical .menu-item.active > .menu-link {
      background: rgba(255, 255, 255, 0.15);
      color: #ffffff;
    }

    .menu-vertical .menu-item.active > .menu-link {
      background: rgba(255, 255, 255, 0.25);
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .card {
      border: none;
      border-radius: var(--radius-soft);
      box-shadow: var(--shadow-soft);
      transition: all 0.3s ease;
    }

    .card:hover {
      box-shadow: var(--shadow-hover);
      transform: translateY(-2px);
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
      border: none;
      border-radius: var(--radius-soft);
      box-shadow: 0 4px 15px rgba(115, 103, 240, 0.35);
      transition: all 0.3s ease;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(115, 103, 240, 0.45);
    }

    .stats-card {
      background: var(--card-bg);
      border-radius: var(--radius-soft);
      padding: 1.5rem;
      text-align: center;
    }

    .stats-card .stats-icon {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 1rem;
      font-size: 1.5rem;
    }

    .stats-card .stats-value {
      font-size: 1.75rem;
      font-weight: 700;
      color: var(--dark);
    }

    .stats-card .stats-label {
      font-size: 0.875rem;
      color: var(--secondary);
      margin-top: 0.25rem;
    }

    .badge-soft {
      padding: 0.5rem 0.75rem;
      border-radius: var(--radius-round);
      font-weight: 500;
    }

    .badge-soft-success {
      background: rgba(40, 199, 111, 0.12);
      color: var(--success);
    }

    .badge-soft-warning {
      background: rgba(255, 159, 67, 0.12);
      color: var(--warning);
    }

    .badge-soft-danger {
      background: rgba(234, 84, 85, 0.12);
      color: var(--danger);
    }

    .badge-soft-primary {
      background: rgba(115, 103, 240, 0.12);
      color: var(--primary);
    }

    .app-brand-logo {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      color: #ffffff;
      font-size: 1.25rem;
      font-weight: 700;
      padding: 1rem;
    }

    .app-brand-logo .ti {
      font-size: 2rem;
    }

    .table-modern {
      border-collapse: separate;
      border-spacing: 0;
    }

    .table-modern thead th {
      background: var(--light);
      border: none;
      padding: 1rem;
      font-weight: 600;
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: var(--secondary);
    }

    .table-modern tbody td {
      padding: 1rem;
      border-bottom: 1px solid var(--border-color);
      vertical-align: middle;
    }

    .table-modern tbody tr:hover {
      background: rgba(115, 103, 240, 0.03);
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .fade-in {
      animation: fadeIn 0.3s ease forwards;
    }

    /* Empty state */
    .empty-state {
      text-align: center;
      padding: 3rem;
      color: var(--secondary);
    }

    .empty-state .ti {
      font-size: 4rem;
      margin-bottom: 1rem;
      opacity: 0.5;
    }
  </style>
</head>

<body>
  <!-- Layout wrapper -->
  <div class="layout-wrapper layout-content-navbar">
    <div class="layout-container">

      <!-- Menu -->
      <%- include('../partials/sidebar') %>
      <!-- / Menu -->

      <!-- Layout container -->
      <div class="layout-page">

        <!-- Navbar -->
        <%- include('../partials/navbar') %>
        <!-- / Navbar -->

        <!-- Content wrapper -->
        <div class="content-wrapper">

          <!-- Content -->
          <div class="container-xxl flex-grow-1 container-p-y">
            <%- body %>
          </div>
          <!-- / Content -->

          <!-- Footer -->
          <%- include('../partials/footer') %>
          <!-- / Footer -->

        </div>
        <!-- / Content wrapper -->

      </div>
      <!-- / Layout container -->

    </div>
  </div>
  <!-- / Layout wrapper -->

  <!-- Core JS -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>
  <script src="/assets/js/menu.js"></script>

  <!-- Page JS -->
  <%- typeof pageJS !== 'undefined' ? pageJS : '' %>

  <script>
    // Initialize perfect scrollbar
    const menuInner = document.querySelector('.menu-inner');
    if (menuInner) {
      new PerfectScrollbar(menuInner, {
        wheelPropagation: false
      });
    }

    // Fade in animation on page load
    document.querySelectorAll('.card').forEach((card, index) => {
      card.style.opacity = '0';
      setTimeout(() => {
        card.classList.add('fade-in');
        card.style.opacity = '1';
      }, index * 100);
    });
  </script>
</body>
</html>

